<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário Técnico - Projeto/Evento</title>
    <!-- Link para estilos externos -->
    <link rel="stylesheet" href="/public/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* =========================== Global Reset =========================== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Roboto', sans-serif;
    background: linear-gradient(135deg, #f0f4ff, #d9e8ff);
    color: #333;
    line-height: 1.6;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

/* =========================== Header =========================== */
header {
    background-color: #002766;
    color: #fff;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 40px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

header h1 {
    font-size: 2em;
    font-weight: 700;
}

.logo-header {
    height: 60px;
}

/* =========================== Main Content =========================== */
.container {
    max-width: 1200px;
    margin: 50px auto;
    padding: 30px;
    background: #ffffff;
    border-radius: 12px;
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

/* =========================== Tabs =========================== */
.tabs {
    display: flex;
    border-bottom: 2px solid #002766;
    background-color: #e6f0ff;
    border-radius: 12px 12px 0 0;
    overflow-x: auto;
}

.tab {
    flex: 1;
    text-align: center;
    padding: 15px;
    cursor: pointer;
    font-size: 16px;
    font-weight: 600;
    color: #002766;
    background-color: #e6f0ff;
    border-right: 1px solid #d1d5db;
    transition: all 0.3s ease-in-out;
}

.tab:last-child {
    border-right: none;
}

.tab:hover,
.tab.active {
    background-color: #002766;
    color: #ffffff;
    border-bottom: 2px solid #ffffff;
}

.tab-content {
    display: none;
    padding: 30px;
    animation: fadeIn 0.4s ease-in-out;
}

.tab-content.active {
    display: block;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

/* =========================== Forms =========================== */
form {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

fieldset {
    border: 2px solid #002766;
    border-radius: 12px;
    padding: 25px;
    background-color: #f8faff;
}

legend {
    font-weight: bold;
    color: #002766;
    font-size: 1.2em;
    padding: 0 12px;
}

form label {
    font-weight: 600;
    color: #002766;
    margin-bottom: 10px;
    display: block;
}

form input,
form textarea,
form select {
    width: 100%;
    padding: 15px;
    border: 1px solid #ccd5ff;
    border-radius: 8px;
    font-size: 16px;
    background-color: #ffffff;
    transition: border-color 0.3s ease, box-shadow 0.3s ease;
}

form input:focus,
form textarea:focus,
form select:focus {
    border-color: #002766;
    box-shadow: 0 0 8px rgba(0, 39, 102, 0.3);
    outline: none;
}

form textarea {
    resize: vertical;
    min-height: 120px;
}

form button {
    align-self: flex-start;
    background-color: #002766;
    color: #ffffff;
    padding: 15px 30px;
    border: none;
    border-radius: 8px;
    font-size: 18px;
    font-weight: 600;
    cursor: pointer;
    transition: background-color 0.3s ease-in-out;
}

form button:hover {
    background-color: #001a47;
}

/* Botão Enviar Todos */
#submitAll {
    margin: 30px auto;
    display: block;
    background-color: #28a745;
    color: #ffffff;
    padding: 18px 36px;
    font-size: 20px;
    font-weight: bold;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

#submitAll:hover {
    background-color: #218838;
}

/* Estilo para inputs de rádio */
.radio-group {
    display: flex;
    align-items: center;
    gap: 20px;
    margin: 15px 0;
}

.radio-group input[type="radio"] {
    display: none;
}

.radio-group label {
    display: flex;
    align-items: center;
    cursor: pointer;
    font-weight: 600;
    color: #002766;
    transition: color 0.3s ease-in-out;
}

.radio-group label::before {
    content: '';
    display: inline-block;
    width: 18px;
    height: 18px;
    border: 2px solid #ccd5ff;
    border-radius: 50%;
    margin-right: 10px;
    transition: background-color 0.3s ease, border-color 0.3s ease;
}

.radio-group input[type="radio"]:checked + label::before {
    background-color: #002766;
    border-color: #002766;
}

/* =========================== Footer =========================== */
footer {
    text-align: center;
    background-color: #002766;
    color: #ffffff;
    padding: 20px;
    font-size: 0.95em;
    margin-top: auto;
}

/* =========================== Responsiveness =========================== */
@media (max-width: 768px) {
    .tabs {
        flex-direction: column;
    }

    .tab {
        text-align: left;
        padding: 12px 20px;
        border-bottom: 1px solid #d1d5db;
    }

    .tab:last-child {
        border-bottom: none;
    }

    #submitAll {
        font-size: 16px;
        padding: 15px 25px;
    }

    form {
        gap: 20px;
    }
}

    </style>  
</head>

<body>
    <header>
        <h1>Ministério do Esporte</h1>
        <img src="images/ASSINATURAS_ESPORTE__FUNDO PRETO 2 HORIZONTAL.png" class="logo-header" alt="Ministério do Esporte">
    </header>
        <div class="container">
            <button class="tab active" data-tab="tab1">1.1 Identificação</button>
            <button class="tab" data-tab="tab2">1.2 Responsável</button>
            <button class="tab" data-tab="tab3">1.3 Dimensão</button>
            <button class="tab" data-tab="tab4">1.4 Localidade</button>
            <button class="tab" data-tab="tab5">1.5 População</button>
            <button class="tab" data-tab="tab6">1.6 Entidade</button>
            <button class="tab" data-tab="tab7">1.7 Entidades Parceiras</button>
            <button class="tab" data-tab="tab8">1.8 Coordenador</button>
            <button class="tab" data-tab="tab9">1.9 Capacidade Técnica</button>
            <button class="tab" data-tab="tab10">2.1 Objeto</button>
            <button class="tab" data-tab="tab11">2.2 Justificativa</button>
            <button class="tab" data-tab="tab12">2.3 Objetivos</button>
            <button class="tab" data-tab="tab13">2.4 Objetivos Específicos</button>
            <button class="tab" data-tab="tab14">3.1 Metodologia</button>
            <button class="tab" data-tab="tab15">3.2 Nucleo</button>
            <button class="tab" data-tab="tab16">3.3 Modalidades</button>
            <button class="tab" data-tab="tab17">3.4 Reuniões</button>
            <button class="tab" data-tab="tab18">3.5 Materiais</button>
            <button class="tab" data-tab="tab19">3.6 Uniformes</button>
            <button class="tab" data-tab="tab20">3.7 Equipe de Trabalho</button>
            <button class="tab" data-tab="tab21">3.8 Divulgação</button>
            <button class="tab" data-tab="tab22">4.1 Identificação do Evento</button>
            <button class="tab" data-tab="tab23">4.2 Cronograma de Execução</button>
            <button class="tab" data-tab="tab24">4.3 Vigência do Evento</button>
            <button class="tab" data-tab="tab25">4.4 Prestação de Contas</button>
        </div>
        <!-- Conteúdo das Abas -->
        <div class="tab-content active" id="tab1">
            <form id="formTab1">
                <fieldset>
                    <legend>1.1 Identificação da Proponente</legend>
                    <label for="cnpjProponente">CNPJ da Proponente:</label>
                    <input type="text" id="cnpjProponente" name="cnpjProponente" required onblur="buscarDadosCNPJ()">
                    <label for="nomeProponente">Nome da Proponente:</label>
                    <input type="text" id="nomeProponente" name="nomeProponente" required>
                    <label for="nomeDirigente">Nome do Dirigente:</label>
                    <input type="text" id="nomeDirigente" name="nomeDirigente" required>
                    <label for="telefoneDirigente">Telefone de Contato (DDD):</label>
                    <input type="text" id="telefoneDirigente" name="telefoneDirigente" required>
                    <label for="emailDirigente">E-mail:</label>
                    <input type="email" id="emailDirigente" name="emailDirigente" required>
                    <label for="proposalNumber">Número da Proposta:</label>
                    <input type="text" id="proposalNumber" name="proposalNumber" required>
                </fieldset>
                <button type="button" onclick="saveTab('formTab1')">Salvar</button>
            </form>
        </div>

        <!-- Repetir a estrutura acima para cada aba subsequente -->
        <!-- Exemplo para "1.2 Responsável pela Elaboração" -->
        <div class="tab-content" id="tab2">
            <form id="formTab2">
                <fieldset>
                    <legend>1.2 Responsável pela Elaboração</legend>
                    <label for="responsavelNome">Nome:</label>
                    <input type="text" id="responsavelNome" name="responsavelNome" required>
                    <label for="responsavelEmail">E-mail:</label>
                    <input type="email" id="responsavelEmail" name="responsavelEmail" required>
                    <label for="responsavelTelefone">Telefone de Contato (DDD):</label>
                    <input type="text" id="responsavelTelefone" name="responsavelTelefone" required>
                </fieldset>
                <button type="button" onclick="saveTab('formTab2')">Salvar Responsável</button>
            </form>
        </div>

<!-- Abas para 1.3 Dimensão -->
<div class="tab-content" id="tab3">
    <h3>1.3 Dimensão do Projeto</h3>
    <form id="formTab3">
        <fieldset>
            <legend>Selecione a Dimensão do Projeto:</legend>

            <!-- Opção 1: Formação Esportiva -->
            <label for="dimensaoFormacao">
                <input type="radio" id="dimensaoFormacao" name="dimensaoEvento" value="formacao" required>
                Formação Esportiva
            </label>
            <p class="dimensao-descricao">
                Oferta oportunidades de acesso à prática esportiva em suas diversas manifestações por meio de ações planejadas, inclusivas e lúdicas para crianças e adolescentes. Este nível de atendimento comporta os serviços de vivência, fundamentação, aprendizagem esportiva e fomento e difusão do conhecimento científico, tecnológico e de inovação.
            </p>

            <!-- Opção 2: Esporte para toda vida -->
            <label for="dimensaoEsporteVida">
                <input type="radio" id="dimensaoEsporteVida" name="dimensaoEvento" value="esporte_vida" required>
                Esporte para toda vida
            </label>
            <p class="dimensao-descricao">
                Caracteriza-se pela vivência do esporte com autodeterminação a partir do conhecimento esportivo adquirido, pela transmissão pedagógica crítica e assumida dentre os hábitos culturais saudáveis ao longo da vida. Este nível abrange os serviços de esporte e lazer, atividade física, aprendizagem esportiva para crianças, jovens, adultos, idosos (esporte ao longo da vida), além do fomento e difusão do conhecimento científico, tecnológico e de inovação.
            </p>
        </fieldset>
        <button type="button" onclick="saveTab('formTab3')">Salvar</button>
    </form>
</div>

<!-- Abas para 1.4 Localidade -->
<div class="tab-content" id="tab4">
    <h3>1.4 Localidade</h3>
    <form id="formTab4">
        <label for="idh">IDH:</label>
        <input type="text" id="idh" name="idh" required>
        <label for="idhFonte">Fonte:</label>
        <input type="text" id="idhFonte" name="idhFonte" required>
        <label for="idhAno">Ano de Referência:</label>
        <input type="number" id="idhAno" name="idhAno" required>
        <button type="button" onclick="saveTab('formTab4')">Salvar</button>
    </form>
</div>

<!-- Abas para 1.5 População -->
<div class="tab-content" id="tab5">
    <h3>1.5 População</h3>
    <form id="formTab5">
        <label for="numeroHabitantes">Número de Habitantes:</label>
        <input type="number" id="numeroHabitantes" name="numeroHabitantes" required>
        <label for="habitantesFonte">Fonte:</label>
        <input type="text" id="habitantesFonte" name="habitantesFonte" required>
        <label for="habitantesAno">Ano de Referência:</label>
        <input type="number" id="habitantesAno" name="habitantesAno" required>
        <button type="button" onclick="saveTab('formTab5')">Salvar</button>
    </form>
</div>

<!-- Abas para 1.6 Entidade -->
<div class="tab-content" id="tab6">
    <h3>1.6 Entidade</h3>
    <form id="formTab6">
        <label>A Entidade já celebrou parceria com o Ministério?</label>
        <label for="parceriaSim">
            <input type="radio" id="parceriaSim" name="parceriaMinisterio" value="sim" required>
            Sim
        </label>
        <label for="parceriaNao">
            <input type="radio" id="parceriaNao" name="parceriaMinisterio" value="nao" required>
            Não
        </label>
        <label for="numeroParcerias">Número de Parcerias:</label>
        <input type="number" id="numeroParcerias" name="numeroParcerias">
        <label for="resultadosParcerias">Resultados das Parcerias:</label>
        <textarea id="resultadosParcerias" name="resultadosParcerias"></textarea>
        <button type="button" onclick="saveTab('formTab6')">Salvar</button>
    </form>
</div>

<!-- Abas para 1.7 Entidades Parceiras -->
<div class="tab-content" id="tab7">
    <h3>1.7 Entidades Parceiras</h3>
    <form id="formTab7">
        <label for="entidadeNome">Nome:</label>
        <input type="text" id="entidadeNome" name="entidadeNome" required>
        <label for="entidadeEmail">E-mail:</label>
        <input type="email" id="entidadeEmail" name="entidadeEmail" required>
        <label for="entidadeTelefone">Telefone:</label>
        <input type="text" id="entidadeTelefone" name="entidadeTelefone" required>
        <label for="entidadeEndereco">Endereço:</label>
        <input type="text" id="entidadeEndereco" name="entidadeEndereco" required>
        <label for="entidadeMunicipio">Município:</label>
        <input type="text" id="entidadeMunicipio" name="entidadeMunicipio" required>
        <label for="entidadeUF">UF:</label>
        <input type="text" id="entidadeUF" name="entidadeUF" required>
        <label for="entidadeCEP">CEP:</label>
        <input type="text" id="entidadeCEP" name="entidadeCEP" required>
        <label for="contribuicaoEntidade">Contribuição:</label>
        <textarea id="contribuicaoEntidade" name="contribuicaoEntidade"></textarea>
        <button type="button" onclick="saveTab('formTab7')">Salvar</button>
    </form>
</div>

<!-- Abas para 1.8 Coordenador -->
<div class="tab-content" id="tab8">
    <h3>1.8 Coordenador</h3>
    <form id="formTab8">
        <label for="coordenadorNome">Nome:</label>
        <input type="text" id="coordenadorNome" name="coordenadorNome" required>
        <label for="coordenadorEmail">E-mail:</label>
        <input type="email" id="coordenadorEmail" name="coordenadorEmail" required>
        <label for="coordenadorTelefone">Telefone:</label>
        <input type="text" id="coordenadorTelefone" name="coordenadorTelefone" required>
        <button type="button" onclick="saveTab('formTab8')">Salvar</button>
    </form>
</div>

<!-- Abas para 1.9 Capacidade Técnica -->
<div class="tab-content" id="tab9">
    <h3>1.9 Capacidade Técnica</h3>
    <form id="formTab9">
        <label>Capacidade Técnica:</label>
        <label for="capacidadeSim">
            <input type="radio" id="capacidadeSim" name="capacidadeTecnica" value="sim" required>
            Sim
        </label>
        <label for="capacidadeNao">
            <input type="radio" id="capacidadeNao" name="capacidadeTecnica" value="nao" required>
            Não
        </label>
        <label for="historicoCapacidade">Histórico:</label>
        <textarea id="historicoCapacidade" name="historicoCapacidade"></textarea>
        <button type="button" onclick="saveTab('formTab9')">Salvar</button>
    </form>
</div>

<div class="tab-content" id="tab10">
    <h3>2.1 Objeto</h3>
    <form id="formTab10">
        <label for="objetoEvento">Descrever o Objeto do Evento:</label>
        <textarea id="objetoEvento" name="objetoEvento" required></textarea>
        <button type="button" onclick="saveTab('FormTab10')">Salvar</button>
    </form>
</div>

<!-- Abas para 2.2 Justificativa -->
<div class="tab-content" id="tab11">
    <h3>2.2 Justificativa</h3>
    <form id="formTab11">
        <label for="justificativaInteresses">Caracterização dos Interesses Recíprocos:</label>
        <textarea id="justificativaInteresses" name="justificativaInteresses" required></textarea>
        <label for="justificativaObjetivos">Relação com os Objetivos:</label>
        <textarea id="justificativaObjetivos" name="justificativaObjetivos" required></textarea>
        <label for="justificativaPublico">Público-Alvo:</label>
        <textarea id="justificativaPublico" name="justificativaPublico" required></textarea>
        <label for="problemaResolvido">Problema a ser Resolvido:</label>
        <textarea id="problemaResolvido" name="problemaResolvido" required></textarea>
        <label for="resultadosEsperados">Resultados Esperados:</label>
        <textarea id="resultadosEsperados" name="resultadosEsperados" required></textarea>
        <button type="button" onclick="saveTab('formTab11')">Salvar</button>
    </form>
</div>

<!-- Abas para 2.3 Objetivo Geral -->
<div class="tab-content" id="tab12">
    <h3>2.3 Objetivo Geral</h3>
    <form id="formTab12">
        <label for="objetivoGeral">Descrever o Objetivo Geral:</label>
        <textarea id="objetivoGeral" name="objetivoGeral" required></textarea>
        <button type="button" onclick="saveTab('formTab12')">Salvar</button>
    </form>
</div>

<!-- Abas para 2.4 Objetivos Específicos -->
<div class="tab-content" id="tab13">
    <h3>2.4 Objetivos Específicos</h3>
    <form id="formTab13">
        <label for="objetivosEspecificos">Descrever os Objetivos Específicos:</label>
        <textarea id="objetivosEspecificos" name="objetivosEspecificos" required></textarea>
        <button type="button" onclick="saveTab('formTab13')">Salvar</button>
    </form>
</div>

<!-- Abas para 3.1 Metodologia -->
<div class="tab-content" id="tab14">
    <h3>3.1 Metodologia</h3>
    <form id="formTab14">
        <label for="metodologiaEvento">Descrição Detalhada:</label>
        <textarea id="metodologiaEvento" name="metodologiaEvento" required></textarea>
        <button type="button" onclick="saveTab('formTab14')">Salvar</button>
    </form>
</div>

<!-- Abas para 3.2 Programação -->
<div class="tab-content" id="tab15">
    <h3>3.2 nucleo</h3>
    <form id="formTab15">
        <label for="nomeEvento">Nome do Evento:</label>
        <input type="text" id="nomeEvento" name="nomeEvento" required>
        <label for="periodoRealizacao">Período Previsto para Realização:</label>
        <input type="text" id="periodoRealizacao" name="periodoRealizacao" required>
        <label for="localEvento">Local:</label>
        <input type="text" id="localEvento" name="localEvento" required>
        <button type="button" onclick="saveTab('formTab15')">Salvar</button>
    </form>
</div>
<div class="tab-content" id="tab16">
    <h3>3.3 Modalidades</h3>
    <form id="formTab16">
        <label for="modalidadesProjeto">Modalidades Oferecidas:</label>
        <textarea id="modalidadesProjeto" name="modalidadesProjeto" rows="4" placeholder="Descreva as modalidades esportivas ou atividades oferecidas pelo projeto." required></textarea>
        <button type="button" onclick="saveTab('formTab16')">Salvar</button>
    </form>
</div>

<!-- 3.4 Reuniões -->
<div class="tab-content" id="tab17">
    <h3>3.4 Reuniões</h3>
    <form id="formTab17">
        <label for="frequenciaReunioes">Frequência das Reuniões:</label>
        <input type="text" id="frequenciaReunioes" name="frequenciaReunioes" placeholder="Ex: Semanal, Mensal" required>
        <label for="objetivoReunioes">Objetivo das Reuniões:</label>
        <textarea id="objetivoReunioes" name="objetivoReunioes" rows="4" required></textarea>
        <button type="button" onclick="saveTab('formTab17')">Salvar</button>
    </form>
</div>

<!-- Abas para 3.5 Materiais -->
<div class="tab-content" id="tab18">
    <h3>3.5 Materiais</h3>
    <form id="formTab18">
        <label>Adicionar Materiais/Serviços:</label>
        <table id="materiaisTable">
            <thead>
                <tr>
                    <th>Nº</th>
                    <th>Descrição</th>
                    <th>Quantidade</th>
                    <th>Memória de Cálculo</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="text" name="numeroMaterial[]" required></td>
                    <td><input type="text" name="descricaoMaterial[]" required></td>
                    <td><input type="number" name="quantidadeMaterial[]" required></td>
                    <td><textarea name="memoriaCalculo[]" required></textarea></td>
                    <td><button type="button" onclick="removeRow(this)">Remover</button></td>
                </tr>
            </tbody>
        </table>
        <button type="button" onclick="addRow('materiaisTable')">Adicionar Linha</button>
        <button type="button" onclick="saveTab('formTab18')">Salvar</button>
    </form>
</div>
<div class="tab-content" id="tab19">
    <h3>3.6 Uniformes</h3>
    <form id="formTab19">
        <table id="uniformesTable">
            <thead>
                <tr>
                    <th>Vestimenta</th>
                    <th>Especificação</th>
                    <th>Quantidade</th>
                    <th>Memória de Cálculo</th>
                    <th>Ação</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="text" name="vestimentaUniformes[]" required></td>
                    <td><input type="text" name="especificacaoUniformes[]" required></td>
                    <td><input type="number" name="quantidadeUniformes[]" min="1" required></td>
                    <td><textarea name="memoriaUniformes[]" rows="2" required></textarea></td>
                    <td><button type="button" onclick="removeRow(this)">Remover</button></td>
                </tr>
            </tbody>
        </table>
        <button type="button" onclick="addRow('uniformesTable')">Adicionar Uniforme</button>
        <button type="button" onclick="saveTab('formTab19')">Salvar</button>
    </form>
</div>

<!-- 3.7 Equipe de Trabalho -->
<div class="tab-content" id="tab20">
    <h3>3.7 Equipe de Trabalho</h3>
    <form id="formTab37">
        <p>(Inserir todos os recursos humanos envolvidos na realização do projeto e identificar quais serão cedidos pela proponente)</p>
        <table id="equipeTable">
            <thead>
                <tr>
                    <th>Função</th>
                    <th>Qtd RH</th>
                    <th>Atribuição / Carga Horária Semanal / Diária</th>
                    <th>Qtd Meses / Diárias</th>
                    <th>Ação</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="text" name="funcaoEquipe[]" placeholder="Ex: Coordenador Geral" required></td>
                    <td><input type="number" name="quantidadeRh[]" min="1" required></td>
                    <td><textarea name="atribuicaoCargaHoraria[]" rows="2" placeholder="Descreva a atribuição e carga horária" required></textarea></td>
                    <td><input type="number" name="quantidadeMesesDiarias[]" min="1" placeholder="Qtd Meses/Diárias" required></td>
                    <td><button type="button" onclick="removeRow(this)">Remover</button></td>
                </tr>
            </tbody>
        </table>
        <button type="button" onclick="addRow('equipeTable')">Adicionar Função</button>
        <button type="button" onclick="saveTab('formTab37')">Salvar</button>
    </form>
</div>

<!-- Abas para 3.8 Divulgação -->
<div class="tab-content" id="tab21">
    <h3>3.8 Divulgação</h3>
    <form id="formTab21">
        <fieldset>
            <legend>3.8.1 Detalhe como ocorrerá a divulgação das ações do Projeto (pode ser assinalada mais de uma alternativa):</legend>
    
            <!-- Opções de divulgação -->
            <label>
                <input type="checkbox" name="meiosDivulgacao[]" value="carros_bicicletas_som">
                Carros ou bicicletas de som
            </label><br>
    
            <label>
                <input type="checkbox" name="meiosDivulgacao[]" value="cartazes">
                Cartazes
            </label><br>
    
            <label>
                <input type="checkbox" name="meiosDivulgacao[]" value="faixas">
                Faixas
            </label><br>
    
            <label>
                <input type="checkbox" name="meiosDivulgacao[]" value="banners">
                Banners
            </label><br>
    
            <label>
                <input type="checkbox" name="meiosDivulgacao[]" value="jornais">
                Jornais
            </label><br>
    
            <label>
                <input type="checkbox" name="meiosDivulgacao[]" value="panfletos">
                Panfletos
            </label><br>
    
            <label>
                <input type="checkbox" name="meiosDivulgacao[]" value="folder">
                Folder
            </label><br>
    
            <label>
                <input type="checkbox" name="meiosDivulgacao[]" value="midia">
                Mídia (meios de comunicação social de massa como rádio, cinema e televisão)
            </label><br>
    
            <!-- Internet com especificação -->
            <label>
                <input type="checkbox" name="meiosDivulgacao[]" value="internet">
                Internet
            </label>
            <input type="text" name="internetEspecificar" placeholder="Especifique os meios usados na internet"><br>
    
            <!-- Outros com especificação -->
            <label>
                <input type="checkbox" name="meiosDivulgacao[]" value="outros">
                Outros
            </label>
            <input type="text" name="outrosEspecificar" placeholder="Especifique outros meios de divulgação"><br>
        </fieldset>
    
        <button type="button" onclick="saveTab('formTab21')">Salvar</button>
    </form>
    </div>
    <!-- 4.2 Cronograma de Execução Físico-Financeira -->
<div class="tab-content" id="tab23">
    <h3>4.2 Cronograma de Execução Físico-Financeira</h3>
    <form id="formTab23">
        <fieldset>
            <legend>Cronograma</legend>
            <table>
                <thead>
                    <tr>
                        <th>Atividade</th>
                        <th>Data de Início</th>
                        <th>Data de Término</th>
                        <th>Valor Estimado (R$)</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody id="cronogramaTable">
                    <tr>
                        <td><input type="text" name="atividade[]" required></td>
                        <td><input type="date" name="dataInicio[]" required></td>
                        <td><input type="date" name="dataTermino[]" required></td>
                        <td><input type="number" name="valorEstimado[]" step="0.01" required></td>
                        <td><button type="button" onclick="removeRow(this)">Remover</button></td>
                    </tr>
                </tbody>
            </table>
            <button type="button" onclick="addRow('cronogramaTable')">Adicionar Linha</button>
        </fieldset>
        <button type="button" onclick="saveTab('formTab23')">Salvar</button>
    </form>
</div>

<!-- 4.3 Vigência do Evento -->
<div class="tab-content" id="tab24">
    <h3>4.3 Vigência do Evento</h3>
    <form id="formTab24">
        <fieldset>
            <legend>Vigência do Evento</legend>
            <label for="dataInicioEvento">Data de Início:</label>
            <input type="date" id="dataInicioEvento" name="dataInicioEvento" required>

            <label for="dataTerminoEvento">Data de Término:</label>
            <input type="date" id="dataTerminoEvento" name="dataTerminoEvento" required>
        </fieldset>
        <button type="button" onclick="saveTab('formTab24')">Salvar</button>
    </form>
</div>

<!-- 4.4 Forma de Prestação de Contas -->
<div class="tab-content" id="tab25">
    <h3>4.4 Prestação de Contas</h3>
    <form id="formTab25">
        <fieldset>
            <legend>Forma de Prestação de Contas</legend>
            <label for="relatorioFinal">Relatório Final:</label>
            <textarea id="relatorioFinal" name="relatorioFinal" rows="4" required></textarea>

            <label for="comprovantes">Comprovantes de Execução (Anexe documentos se necessário):</label>
            <input type="file" id="comprovantes" name="comprovantes" multiple>
        </fieldset>
        <button type="button" onclick="saveTab('formTab25')">Salvar</button>
    </form>
</div>
<button type="button" onclick="salvarProjeto()">Salvar Projeto</button>
</div>  

    <footer>
        <p>&copy; 2024 Ministério do Esporte</p>
      </footer>

    <script>
function saveTab(tabId) {
    const form = document.querySelector(`#${tabId}`);
    console.log(`Tentando buscar formulário com ID: #${tabId}`);
    if (!form || form.tagName !== "FORM") {
        console.error(`Erro: Elemento com ID ${tabId} não é um formulário válido.`);
        alert(`Erro: Elemento com ID ${tabId} não é um formulário válido.`);
        return;
    }

    try {
        const formData = new FormData(form);

        // Captura os valores de botões de rádio manualmente (se necessário)
        form.querySelectorAll('input[type="radio"]:checked').forEach((radio) => {
            formData.append(radio.name, radio.value);
        });

        const data = Object.fromEntries(formData.entries());
        localStorage.setItem(tabId, JSON.stringify(data));
        console.log(`Dados salvos com sucesso para ${tabId}:`, data);
        alert(`Informações da aba ${tabId} salvas com sucesso!`);
    } catch (error) {
        console.error(`Erro ao salvar os dados da aba ${tabId}:`, error);
        alert(`Erro ao salvar os dados da aba ${tabId}: ${error.message}`);
    }
}

document.addEventListener("DOMContentLoaded", () => {
    const forms = document.querySelectorAll("form");

    forms.forEach((form) => {
        const savedData = localStorage.getItem(form.id); // Usa o ID completo do formulário
        if (savedData) {
            const data = JSON.parse(savedData);
            Object.keys(data).forEach((key) => {
                const input = form.querySelector(`[name="${key}"]`);
                if (input) {
                    input.value = data[key];
                }
            });
            console.log(`Dados carregados para ${form.id}:`, data);
        }
    });
});

// Função para buscar dados do CNPJ
async function buscarDadosCNPJ() {
    const cnpjInput = document.getElementById('cnpjProponente');
    const cnpj = cnpjInput.value.replace(/\D/g, ''); // Remove pontos e barras

    if (cnpj.length !== 14) {
        alert("Por favor, insira um CNPJ válido com 14 dígitos.");
        return;
    }

    try {
        const response = await fetch(`http://localhost:3000/buscar-cnpj/${cnpj}`);

        if (!response.ok) {
            throw new Error(`Erro na API: ${response.status} ${response.statusText}`);
        }

        const dados = await response.json();
        document.getElementById('nomeProponente').value = dados.nome || '';
        document.getElementById('nomeDirigente').value = dados.qsa?.[0]?.nome || '';
        document.getElementById('telefoneDirigente').value = dados.telefone || '';
        document.getElementById('emailDirigente').value = dados.email || '';

        alert("Dados do CNPJ carregados com sucesso!");
    } catch (error) {
        console.error('Erro ao buscar dados do CNPJ:', error);
        alert(`Erro ao buscar os dados da entidade: ${error.message}`);
    }
}

// Função para alternar abas
function alternarAbas() {
    const tabs = document.querySelectorAll(".tab");
    const contents = document.querySelectorAll(".tab-content");

    tabs.forEach((tab) => {
        tab.addEventListener("click", () => {
            tabs.forEach((t) => t.classList.remove("active"));
            tab.classList.add("active");

            contents.forEach((content) => content.classList.remove("active"));
            document.getElementById(tab.dataset.tab).classList.add("active");
        });
    });
}

// Função para enviar todos os dados
async function salvarProjeto() {
    const form = document.getElementById('formTab1'); // Ajuste o ID para o formulário correto
    const formData = new FormData(form);

    const data = Object.fromEntries(formData.entries()); // Converte para objeto JSON
    
    try {
        const response = await fetch('http://localhost:3000/salvar-projeto', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data) // Envia os dados como JSON
        });

        if (!response.ok) throw new Error('Erro ao salvar o projeto.');

        alert('Projeto salvo com sucesso!');
        window.location.href = '/pre-page2'; // Redirecionar após salvar
    } catch (error) {
        console.error(error);
        alert('Erro ao salvar o projeto.');
    }
}

// Função para adicionar uma nova linha na tabela
function addRow(tableId) {
    const table = document.getElementById(tableId);
    const newRow = table.querySelector("tbody tr").cloneNode(true);

    // Limpa os campos da nova linha
    newRow.querySelectorAll("input, textarea").forEach((input) => {
        input.value = "";
    });

    table.querySelector("tbody").appendChild(newRow);
}

// Função para remover uma linha da tabela
function removeRow(button) {
    const row = button.closest("tr");
    const tableBody = row.parentNode;

    if (tableBody.querySelectorAll("tr").length > 1) {
        row.remove();
    } else {
        alert("Não é possível remover todas as linhas!");
    }
}

// Inicialização das abas
alternarAbas();
</script>
</body>
</html>
