<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ficha Técnica de Monitoramento - Projeto</title>
  <link rel="stylesheet" href="/css/styles.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f9;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #0056b3;
      color: white;
      text-align: center;
      padding: 20px 0;
    }
    main {
      margin: 20px auto;
      max-width: 1200px;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    section {
      margin-bottom: 20px;
    }
    h2 {
      color: #0056b3;
      margin-bottom: 10px;
    }
    .form-group {
      margin-bottom: 15px;
    }
    label {
      font-weight: bold;
      display: block;
      margin-bottom: 5px;
    }
    input, select, textarea, button {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 14px;
    }
    input:focus, select:focus, textarea:focus {
      outline: none;
      border-color: #0056b3;
    }
    button {
      background-color: #0056b3;
      color: white;
      font-weight: bold;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #003d80;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 15px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #f2f2f2;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>
    <h1>Ficha Técnica de Monitoramento - Projeto</h1>
  </header>
  <main>
    <form action="/submitFicha" method="POST" enctype="multipart/form-data">
      <!-- 1 - Dados e Informações da Parceria -->
      <section>
        <h2>1 - Dados e Informações da Parceria</h2>
        <div class="form-group">
          <label for="osc">OSC:</label>
          <input type="text" id="osc" name="osc" required>
        </div>
        <div class="form-group">
          <label for="processo">Processo:</label>
          <input type="text" id="processo" name="processo" required>
        </div>
        <div class="form-group">
          <label for="termo_fomento">Termo de Fomento:</label>
          <input type="text" id="termo_fomento" name="termo_fomento" required>
        </div>
        <div class="form-group">
          <label for="objeto">Objeto:</label>
          <textarea id="objeto" name="objeto" rows="3" required></textarea>
        </div>
        <div class="form-group">
          <label for="valor_pactuado">Valor Pactuado (R$):</label>
          <input type="number" id="valor_pactuado" name="valor_pactuado" step="0.01" required>
        </div>
        <div class="form-group">
          <label for="vigencia_inicio">Vigência (Início):</label>
          <input type="date" id="vigencia_inicio" name="vigencia_inicio" required>
        </div>
        <div class="form-group">
          <label for="vigencia_fim">Vigência (Fim):</label>
          <input type="date" id="vigencia_fim" name="vigencia_fim" required>
        </div>
        <div class="form-group">
          <label for="emenda">Emenda Nº:</label>
          <input type="text" id="emenda" name="emenda">
        </div>
        <div class="form-group">
          <label for="parlamentar">Parlamentar:</label>
          <input type="text" id="parlamentar" name="parlamentar">
        </div>
        <div class="form-group">
          <label for="prorrogacao">Prorrogação de Ofício (Dias):</label>
          <input type="number" id="prorrogacao" name="prorrogacao">
        </div>
      </section>

      <!-- 2 - Valores Efetivamente Transferidos -->
      <section>
        <h2>2 - Valores Efetivamente Transferidos</h2>
        <table>
          <thead>
            <tr>
              <th>Nº</th>
              <th>Orçamento</th>
              <th>Nota de Empenho (SEI)</th>
              <th>Ordem Bancária</th>
              <th>Valor (R$)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>1</td>
              <td><input type="text" name="orcamento_1"></td>
              <td><input type="text" name="nota_empenho_1"></td>
              <td><input type="text" name="ordem_bancaria_1"></td>
              <td><input type="number" step="0.01" name="valor_1"></td>
            </tr>
            <tr>
              <td>2</td>
              <td><input type="text" name="orcamento_2"></td>
              <td><input type="text" name="nota_empenho_2"></td>
              <td><input type="text" name="ordem_bancaria_2"></td>
              <td><input type="number" step="0.01" name="valor_2"></td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- 3 - Descrição do Cumprimento das Metas -->
      <section>
        <h2>3 - Descrição do Cumprimento das Metas</h2>
        <table>
          <thead>
            <tr>
              <th>Etapas</th>
              <th>Previsto (R$)</th>
              <th>Executado (R$)</th>
              <th>% Executado</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Contratação de Pessoal</td>
              <td><input type="number" step="0.01" name="previsto_pessoal"></td>
              <td><input type="number" step="0.01" name="executado_pessoal"></td>
              <td><input type="number" step="0.01" name="percentual_pessoal"></td>
            </tr>
            <tr>
              <td>Material Gráfico</td>
              <td><input type="number" step="0.01" name="previsto_material"></td>
              <td><input type="number" step="0.01" name="executado_material"></td>
              <td><input type="number" step="0.01" name="percentual_material"></td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- 4 - Atividades Realizadas -->
      <section>
        <h2>4 - Atividades Realizadas</h2>
        <div class="form-group">
          <label for="atividades">Atividades Propostas:</label>
          <textarea id="atividades" name="atividades" rows="3" required></textarea>
        </div>
        <div class="form-group">
          <label for="status_atividades">Status:</label>
          <input type="text" id="status_atividades" name="status_atividades">
        </div>
      </section>

      <!-- Botão de Envio -->
      <button type="submit">Salvar e Enviar</button>
    </form>
  </main>
  <script>
    // Função para calcular o % Executado
    function calculatePercentage(previstoId, executadoId, percentualId) {
      const previsto = parseFloat(document.getElementById(previstoId).value) || 0;
      const executado = parseFloat(document.getElementById(executadoId).value) || 0;

      const percentual = previsto > 0 ? ((executado / previsto) * 100).toFixed(2) : '0.00';

      document.getElementById(percentualId).value = `${percentual}%`;
    }
    
  </script>
</body>
</html>
